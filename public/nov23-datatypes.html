<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Datatypes</title>
     
    <link rel="stylesheet" type="text/css" media="screen" href="/css/ui-cupertino/jquery-ui-1.8.6.custom.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/css/ui.jqgrid.css" />

    <script src="/js/jquery-1.4.3.min.js" type="text/javascript"></script>
    <script src="/js/i18n/grid.locale-en.js" type="text/javascript"></script>
    <script src="/js/jquery.jqGrid.js" type="text/javascript"></script>

<script type="text/javascript">

    var display_globals = {
      column_names : ['Name','Tags','Fields','Comments', 'Last Update']
    } //TODO: move to backend

    //backend needs to "hold" (or infer from db): field(i.e. col)_names_for_displaying, codes of those
    //where to hold all this shit? 1) some functions 2) Mongo and loaded only at the very beginning (will need caching) 3)some config file
    //obviously the inferred fields can't be held anywhere, those will be generated from the db information

    //when data SCHEMA and LOGIC dictates how it should be displayed, then that data has to FIRST BE RETRIEVED from the BACKEND ('rendered')
    $(function(){ 
      $("#list").jqGrid({
        url:'http://184.106.223.62/datatypes/json-for-grid',
        datatype: 'json',
        mtype: 'POST',
        colNames: display_globals.column_names,
        colModel :[ //for data items, these will be created dynamically from the back-end (since we won't know the exact fields in advance) 
          {name:':datatype_name', width:150}, 
          {name:':tags', width:200},
          {name:':fields',width:200},
          {name:':comments',width:300},
          {name:':updated_at',width:130, align: 'center'}
          //{name:'total', index:'total', width:80, align:'right'}, 
          //{name:'note', index:'note', width:150, sortable:false} 
        ],
        pager: '#pager',
        rowNum:10,
        rowList:[10,20,30],
        sortname: ':datatype_name', //these defaults shits also need to come from backend
        sortorder: 'asc', //these defaults shits also need to come from backend
        viewrecords: true,
        caption: 'Datatypes', //these defaults shits also need to come from backend
        height: "100%",
        
      }).navGrid('#pager', {edit:true, editfunc: function(id){ alert(id); }},  //{view: true, del: false, editfunc: 'shit'},

         { //edit
             addCaption: "Add Mah Record",
             editCaption: "Edit Mah Record",
             bSubmit: "Submit",
             bCancel: "Cancel",
             bClose: "Close",
             saveData: "Data has been changed! Save changes?",
             bYes : "Yes",
             bNo : "No",
             bExit : "Cancel",
             editfunc: 'shit'
          }



        );    //prmEdit, prmAdd, prmDel, prmSearch, prmView); 
    });

 
    </script>

     
  </head>
  <body>
    <center>
      <table id="list"class="ui-jqgrid-htable" style="width: 496px; " role="grid" aria-labelledby="gbox_west-grid"
        cellspacing="0" cellpadding="0" border="0"> 
    <div id="pager"></div> 
  </center>
  </body>
</html>
